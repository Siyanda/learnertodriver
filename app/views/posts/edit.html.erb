<% title @post.title %>
<% breadcrumb :post, @post %>

<% content_for :action_bar do %>
  <%= render partial: 'form_actions' %>
<% end %>

<div class="flex gapped">
  <div class="flex full-width rounded shadowed basic-border max-content column white-bg post">
    <div class="post-body">
      <%= render 'content_form', post: @post %>
    </div>
  </div>

  <div class="third-width">
    <div class="hr-sectioned max-content white-bg shadowed rounded basic-border aside">
      <%= render 'attributes_form', post: @post %>

  <div class="flex full-width rounded shadowed basic-border column max-content white-bg post">
    <%= render 'form', post: @post %>
  </div>

  <div class="third-width to-full">
    <div class="hr-sectioned max-content white-bg shadowed rounded basic-border aside to-full">

      <div class="section">
        <div class="padded section-heading">
          <div class="flex">
            <h3 class="sub-heading">Details</h3>
          </div>
          <hr class="third-width hr-grey">
          <div class="section">
            <div class="flex">
              <div class="dark-stroke mdm-svg icon">
                <%= inline_svg("icons/ui/info-o.svg") %>
              </div>
              <h4 class="capitalized"><span class="bold margin-sides">status : </span><%= @post.status %></h4>
            </div>

            <div class="flex">
              <div class="dark-stroke mdm-svg icon">
                <%= inline_svg("icons/ui/date-calendar.svg") %>
              </div>
              <h4 class="capitalized"><span class="bold margin-sides">Schedule Post : </span class="formatted_time"><%= @post.created_at.iso8601 %></h4>
            </div>

          </div>
        </div>
      </div>

      <div class="section">
        <div class="padded section-heading">
          <div class="flex">
            <div class="dark-stroke mdm-svg icon">
              <%= inline_svg("icons/ui/user-o.svg") %>
            </div>
            <h3 class="sub-heading margin-sides">Author</h3>
          </div>
          <hr class="third-width hr-grey">

            <div class="flex center-aligned">
              <div class="relative dropdown-select" data-controller="dropdown">
                <div class="select-button" role="group">

                  <div class="rounded dropdown-button-area" role="group" data-action="click->dropdown#toggle">
                    <button class="capitalized rounded dropdown-button iconed" type="button" aria-expanded="false">
                      <%= @post.user.name %>
                    </button>
                    <div class="dropdown-menu" data-dropdown-target="menu">
                      <% @users.each do |user| %>
                        <div class="select_item"><%= user.name %></div>
                      <% end %>
                    </div>
                  </div>

                </div>
                <div class="mdm-svg grey-fill float-icon icon">
                  <%= inline_svg("icons/arrow-down.svg") %>
                </div>
              </div>
            </div>

      </div>
    </div>

    <div class="section">
      <div class="padded section-heading">
        <div class="flex">
          <h3 class="sub-heading">Cover Image</h3>
        </div>
          <hr class="third-width hr-grey">
          <div class="padded rounded dashed-brd basic-border clickable dropzone">
            <div class="flex">
              <div class="mdm-svg icon">
                <%= inline_svg("icons/image-o.svg") %>
              </div>
              <h3> Set Post Image</h3>
            </div>
          </div>
        </div>
      </div>

        <div class="section">
          <div class="padded section-heading">
              <div class="flex">
                <h3 class="sub-heading">Post Excerpt</h3>
              </div>
            <hr class="third-width hr-grey">
              <div class="flex">
                <%= @post.excerpt %>
              </div>
          </div>
        </div>
      </div>

      <div class="hr-sectioned max-content white-bg shadowed rounded basic-border">
        <div class="section">
        <div class="padded section-heading">
          <div class="flex">
            <div class="sub-section dark-stroke sm-icon"><%= inline_svg("icons/hashtag.svg") %></div>
            <h3 class="sub-heading">Tags</h3>
          </div>
          <hr class="third-width hr-grey">
          <div class="section">
            <input type="text" class="full-width basic-border cream-bg" autocomplete="name">
            <ul class="flex top-padded wrapped tags">
              <li class="flex tag-container">
                <span class="removeable-tag gainsboro-bg">test</span>
                <a href="remove" class="tag-button clickable gainsboro-bg">
                  <div class="red-stroke micro-svg icon">
                    <%= inline_svg("icons/close.svg") %>
                  </div>
                </a>
              </li>
              <li class="flex tag-container">
                <span class="removeable-tag gainsboro-bg">search</span>
                <a href="remove" class="tag-button clickable gainsboro-bg">
                  <div class="red-stroke micro-svg icon">
                    <%= inline_svg("icons/close.svg") %>
                  </div>
                </a>
              </li>
              <li class="flex tag-container">
                <span class="removeable-tag gainsboro-bg">activerecord</span>
                <a href="remove" class="tag-button clickable gainsboro-bg">
                  <div class="red-stroke micro-svg icon">
                    <%= inline_svg("icons/close.svg") %>
                  </div>
                </a>
              </li>
              <li class="flex tag-container">
                <span class="removeable-tag gainsboro-bg">ruby</span>
                <a href="remove" class="tag-button clickable gainsboro-bg">
                  <div class="red-stroke micro-svg icon">
                    <%= inline_svg("icons/close.svg") %>
                  </div>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
